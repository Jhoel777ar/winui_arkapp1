<Window
    x:Class="ark_app1.LoginWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Padding="16">
            <Grid MaxWidth="420" HorizontalAlignment="Center">
                <StackPanel Spacing="16" Width="420">

                    <TextBlock x:Name="TitleTextBlock"
                               Text="Iniciar Sesión"
                               Style="{ThemeResource TitleTextBlockStyle}"
                               FontSize="24"
                               FontWeight="SemiBold"
                               HorizontalAlignment="Center"
                               Margin="0,8,0,8"/>

                    <StackPanel x:Name="LoginStackPanel" Spacing="4">
                        <TextBox Header="Correo o CI" x:Name="LoginCredentialTextBox" PlaceholderText="ejemplo@correo.com o 1234567"/>
                        <PasswordBox Header="Contraseña" x:Name="LoginPasswordBox"/>
                        <Button Content="Iniciar Sesión" x:Name="LoginButton" Click="LoginButton_Click" Style="{ThemeResource AccentButtonStyle}" 
                                HorizontalAlignment="Stretch" Height="44" Margin="0,8,0,0"/>
                        <Button Content="¿No tienes cuenta? Regístrate aquí" x:Name="ShowRegisterButton" Click="ShowRegisterButton_Click"
                                HorizontalAlignment="Center" Background="Transparent" BorderThickness="0"
                                Foreground="{ThemeResource SystemAccentColor}"/>
                        <InfoBar IsOpen="True"
                                 IsIconVisible="True"
                                 IsClosable="False"
                                 Severity="Warning"
                                 Title="¡Importante!"
                                 Message="Usa tu Correo o CI para iniciar sesión. Si te registras, recuérdalos muy bien: son las únicas formas de acceder al sistema después."
                                 BorderThickness="1"
                                 CornerRadius="12"
                                 Margin="0,8,0,0"/>
                    </StackPanel>
                    <StackPanel x:Name="RegisterStackPanel" Visibility="Collapsed" Spacing="4">
                        <TextBox Header="Nombre Completo" x:Name="FullNameTextBox"/>
                        <TextBox Header="Teléfono (opcional)" x:Name="PhoneTextBox" PlaceholderText="098765432"/>
                        <TextBox Header="Cédula de Identidad (CI)" x:Name="CiTextBox" PlaceholderText="Solo números, 7-8 dígitos"/>
                        <TextBox Header="Correo Electrónico" x:Name="EmailTextBox" PlaceholderText="tucorreo@dominio.com"/>
                        <PasswordBox Header="Contraseña (mín. 6 caracteres)" x:Name="RegisterPasswordBox"/>
                        <Button Content="Crear Cuenta" x:Name="RegisterButton" Click="RegisterButton_Click"
                                Style="{ThemeResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="44" Margin="0,8,0,0"/>
                        <Button Content="← Ya tienes cuenta? Iniciar sesión" x:Name="ShowLoginButton" Click="ShowLoginButton_Click"
                                HorizontalAlignment="Center" Background="Transparent" BorderThickness="0"
                                Foreground="{ThemeResource SystemAccentColor}"/>
                    </StackPanel>
                    <InfoBar x:Name="LoginInfoBar" IsOpen="False" Margin="0,4,0,0"/>
                </StackPanel>
            </Grid>
        </ScrollViewer>
        <Border Grid.Row="1" 
        Background="{ThemeResource LayerFillColorDefaultBrush}"
        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
        BorderThickness="0,1,0,0"
        Padding="16,12">
            <HyperlinkButton NavigateUri="https://www.ark-dev.org/ark_dev_system"
                     HorizontalAlignment="Center"
                     Padding="0">
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <Image Source="https://www.ark-dev.org/logos/ark_dev_systemFN.png" 
                   Width="36" Height="36"/>
                    <TextBlock Text="ArkStock | POWERED BY ARK DEV SYSTEM"
                       FontWeight="SemiBold"
                       FontSize="13"
                       VerticalAlignment="Center"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </StackPanel>
            </HyperlinkButton>
        </Border>
    </Grid>
</Window>