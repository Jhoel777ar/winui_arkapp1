<Window
    x:Class="ark_app1.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="ARKSTOCK">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TitleBar x:Name="AppTitleBar" Title="ArkStock" Subtitle="Bienvenido" IsBackButtonVisible="False" IsPaneToggleButtonVisible="False">
            <TitleBar.IconSource>
                <ImageIconSource ImageSource="/Assets/Tiles/GalleryIcon.ico" />
            </TitleBar.IconSource>
            <TitleBar.Content>
                <AutoSuggestBox x:Name="AppSearchBox" Width="360" VerticalAlignment="Center" PlaceholderText="Buscar Productos, Clientes..." QueryIcon="Find"
                                TextChanged="AppSearchBox_TextChanged"
                                QuerySubmitted="AppSearchBox_QuerySubmitted"
                                SuggestionChosen="AppSearchBox_SuggestionChosen"/>
            </TitleBar.Content>
            <TitleBar.RightHeader>
                <Button x:Name="ProfileMenuButton" Background="Transparent" BorderThickness="0">
                     <PersonPicture x:Name="UserPicture" Width="30" Height="30" />
                     <Button.Flyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Text="Mi Perfil" Tag="Profile" Click="ProfileFlyoutItem_Click"/>
                            <MenuFlyoutSeparator />
                            <MenuFlyoutItem Text="Cerrar Sesión" Tag="Logout" Click="LogoutFlyoutItem_Click"/>
                        </MenuFlyout>
                    </Button.Flyout>
                </Button>
            </TitleBar.RightHeader>
        </TitleBar>

        <NavigationView Grid.Row="1" 
                x:Name="NavView" 
                PaneDisplayMode="Left" 
                SelectionChanged="NavView_SelectionChanged" 
                Header="Home"
                IsSettingsVisible="False">
            <NavigationView.MenuItems>
                <NavigationViewItem Content="Home" Icon="Home" Tag="Home" />
                <NavigationViewItem Content="Ventas (POS)" Icon="Shop" Tag="Sales" />
                <NavigationViewItem Content="Inventario" Icon="Library" Tag="Inventory" />
                <NavigationViewItem Content="Clientes" Icon="People" Tag="Clients" />
                <NavigationViewItem Content="Proveedores" Icon="Contact" Tag="Providers" />
            </NavigationView.MenuItems>
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Content="Términos y Condiciones" Icon="Page" Tag="TermsAndConditions" />
                <NavigationViewItem Content="Acerca de ArkStock" Icon="Help" Tag="AboutArkDev" />
            </NavigationView.FooterMenuItems>
            <Frame x:Name="ContentFrame" />
        </NavigationView>

        <Border Grid.Row="2"
             Background="{ThemeResource LayerFillColorDefaultBrush}"
             BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
             BorderThickness="0,1,0,0"
             Padding="16,12">
            <HyperlinkButton NavigateUri="https://www.ark-dev.org/ark_dev_system"
                          HorizontalAlignment="Center"
                          Padding="0">
             <StackPanel Orientation="Horizontal" Spacing="10">
                 <Image Source="https://www.ark-dev.org/logos/ark_dev_systemFN.png"
                        Width="36" Height="36"/>
                 <TextBlock Text="ArkStock | POWERED BY ARK DEV SYSTEM"
                            FontWeight="SemiBold"
                            FontSize="13"
                            VerticalAlignment="Center"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
             </StackPanel>
            </HyperlinkButton>
        </Border>
    </Grid>
</Window>